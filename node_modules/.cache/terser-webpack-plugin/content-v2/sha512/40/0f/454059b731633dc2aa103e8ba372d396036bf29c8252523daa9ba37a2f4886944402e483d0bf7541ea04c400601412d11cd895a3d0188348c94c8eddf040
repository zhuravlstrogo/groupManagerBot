{"code":"!function(e){var t={};function s(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=e,s.c=t,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)s.d(r,i,function(t){return e[t]}.bind(null,i));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,\"a\",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p=\"\",s(s.s=3)}([function(e,t){var s,r,i=e.exports={};function n(){throw new Error(\"setTimeout has not been defined\")}function a(){throw new Error(\"clearTimeout has not been defined\")}function o(e){if(s===setTimeout)return setTimeout(e,0);if((s===n||!s)&&setTimeout)return s=setTimeout,setTimeout(e,0);try{return s(e,0)}catch(t){try{return s.call(null,e,0)}catch(t){return s.call(this,e,0)}}}!function(){try{s=\"function\"==typeof setTimeout?setTimeout:n}catch(e){s=n}try{r=\"function\"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var h,c=[],u=!1,l=-1;function d(){u&&h&&(u=!1,h.length?c=h.concat(c):l=-1,c.length&&m())}function m(){if(!u){var e=o(d);u=!0;for(var t=c.length;t;){for(h=c,c=[];++l<t;)h&&h[l].run();l=-1,t=c.length}h=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)t[s-1]=arguments[s];c.push(new p(e,t)),1!==c.length||u||o(m)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title=\"browser\",i.browser=!0,i.env={},i.argv=[],i.version=\"\",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error(\"process.binding is not supported\")},i.cwd=function(){return\"/\"},i.chdir=function(e){throw new Error(\"process.chdir is not supported\")},i.umask=function(){return 0}},function(e,t,s){(function(t){const r=s(11);class i{constructor(...e){this.handler=i.compose(e)}use(...e){return this.handler=i.compose([this.handler,...e]),this}on(e,...t){return this.use(i.mount(e,...t))}hears(e,...t){return this.use(i.hears(e,...t))}command(e,...t){return this.use(i.command(e,...t))}action(e,...t){return this.use(i.action(e,...t))}inlineQuery(e,...t){return this.use(i.inlineQuery(e,...t))}gameQuery(...e){return this.use(i.gameQuery(...e))}drop(e){return this.use(i.drop(e))}filter(e){return this.use(i.filter(e))}entity(...e){return this.use(i.entity(...e))}email(...e){return this.use(i.email(...e))}url(...e){return this.use(i.url(...e))}textLink(...e){return this.use(i.textLink(...e))}textMention(...e){return this.use(i.textMention(...e))}mention(...e){return this.use(i.mention(...e))}phone(...e){return this.use(i.phone(...e))}hashtag(...e){return this.use(i.hashtag(...e))}cashtag(...e){return this.use(i.cashtag(...e))}start(...e){return this.command(\"start\",i.tap(e=>{e.startPayload=e.message.text.substring(7)}),...e)}help(...e){return this.command(\"help\",...e)}settings(...e){return this.command(\"settings\",...e)}middleware(){return this.handler}static reply(...e){return t=>t.reply(...e)}static catchAll(...e){return i.catch(e=>{console.error(),console.error((e.stack||e.toString()).replace(/^/gm,\"  \")),console.error()},...e)}static catch(e,...t){const s=i.compose(t);return(t,r)=>Promise.resolve(s(t,r)).catch(s=>e(s,t))}static fork(e){const s=i.unwrap(e);return(e,r)=>(t(s,e,i.safePassThru()),r(e))}static tap(e){const t=i.unwrap(e);return(e,s)=>Promise.resolve(t(e,i.safePassThru())).then(()=>s(e))}static passThru(){return(e,t)=>t(e)}static safePassThru(){return(e,t)=>\"function\"==typeof t?t(e):Promise.resolve()}static lazy(e){if(\"function\"!=typeof e)throw new Error(\"Argument must be a function\");return(t,s)=>Promise.resolve(e(t)).then(e=>i.unwrap(e)(t,s))}static log(e=console.log){return i.fork(t=>e(JSON.stringify(t.update,null,2)))}static branch(e,t,s){return\"function\"!=typeof e?e?t:s:i.lazy(r=>Promise.resolve(e(r)).then(e=>e?t:s))}static optional(e,...t){return i.branch(e,i.compose(t),i.safePassThru())}static filter(e){return i.branch(e,i.safePassThru(),()=>{})}static drop(e){return i.branch(e,()=>{},i.safePassThru())}static dispatch(e,t){return\"function\"==typeof e?i.lazy(s=>Promise.resolve(e(s)).then(e=>t[e])):t[e]}static mount(e,...t){const s=a(e);return i.optional(e=>s.includes(e.updateType)||s.some(t=>e.updateSubTypes.includes(t)),...t)}static entity(e,...t){if(\"function\"!=typeof e){const s=a(e);return i.entity(({type:e})=>s.includes(e),...t)}return i.optional(t=>{const s=t.message||t.channelPost,r=s&&(s.entities||s.caption_entities),i=s&&(s.text||s.caption);return r&&r.some(s=>e(s,i.substring(s.offset,s.offset+s.length),t))},...t)}static entityText(e,t,...s){if(0===s.length)return Array.isArray(t)?i.entity(e,...t):i.entity(e,t);const r=n(t);return i.entity(({type:t},s,i)=>{if(t!==e)return!1;for(const e of r)if(i.match=e(s,i),i.match)return!0},...s)}static email(e,...t){return i.entityText(\"email\",e,...t)}static phone(e,...t){return i.entityText(\"phone_number\",e,...t)}static url(e,...t){return i.entityText(\"url\",e,...t)}static textLink(e,...t){return i.entityText(\"text_link\",e,...t)}static textMention(e,...t){return i.entityText(\"text_mention\",e,...t)}static mention(e,...t){return i.entityText(\"mention\",a(e,\"@\"),...t)}static hashtag(e,...t){return i.entityText(\"hashtag\",a(e,\"#\"),...t)}static cashtag(e,...t){return i.entityText(\"cashtag\",a(e,\"$\"),...t)}static match(e,...t){return i.optional(t=>{const s=t.message&&(t.message.caption||t.message.text)||t.callbackQuery&&t.callbackQuery.data||t.inlineQuery&&t.inlineQuery.query;for(const r of e)if(t.match=r(s,t),t.match)return!0},...t)}static hears(e,...t){return i.mount(\"text\",i.match(n(e),...t))}static command(e,...t){if(0===t.length)return i.entity([\"bot_command\"],e);const s=a(e,\"/\");return i.mount(\"text\",i.lazy(e=>{const r=!e.me||\"group\"!==e.chat.type&&\"supergroup\"!==e.chat.type?[]:s.map(t=>`${t}@${e.me}`);return i.entity(({offset:e,type:t},i)=>0===e&&\"bot_command\"===t&&(s.includes(i)||r.includes(i)),...t)}))}static action(e,...t){return i.mount(\"callback_query\",i.match(n(e),...t))}static inlineQuery(e,...t){return i.mount(\"inline_query\",i.match(n(e),...t))}static acl(e,...t){if(\"function\"==typeof e)return i.optional(e,...t);const s=Array.isArray(e)?e:[e];return i.optional(e=>!e.from||s.includes(e.from.id),...t)}static memberStatus(e,...t){const s=Array.isArray(e)?e:[e];return i.optional(e=>e.message&&e.getChatMember(e.message.from.id).then(e=>e&&s.includes(e.status)),...t)}static admin(...e){return i.memberStatus([\"administrator\",\"creator\"],...e)}static creator(...e){return i.memberStatus(\"creator\",...e)}static chatType(e,...t){const s=Array.isArray(e)?e:[e];return i.optional(e=>e.chat&&s.includes(e.chat.type),...t)}static privateChat(...e){return i.chatType(\"private\",...e)}static groupChat(...e){return i.chatType([\"group\",\"supergroup\"],...e)}static gameQuery(...e){return i.mount(\"callback_query\",i.optional(e=>e.callbackQuery.game_short_name,...e))}static unwrap(e){if(!e)throw new Error(\"Handler is undefined\");return\"function\"==typeof e.middleware?e.middleware():e}static compose(e){if(!Array.isArray(e))throw new Error(\"Middlewares must be an array\");return 0===e.length?i.safePassThru():1===e.length?i.unwrap(e[0]):(t,s)=>{let n=-1;return function t(a,o){if(!(o instanceof r))return Promise.reject(new Error(\"next(ctx) called with invalid context\"));if(a<=n)return Promise.reject(new Error(\"next() called multiple times\"));n=a;const h=e[a]?i.unwrap(e[a]):s;if(!h)return Promise.resolve();try{return Promise.resolve(h(o,(e=o)=>t(a+1,e)))}catch(e){return Promise.reject(e)}}(0,t)}}}function n(e){return Array.isArray(e)||(e=[e]),e.map(e=>{if(!e)throw new Error(\"Invalid trigger\");return\"function\"==typeof e?e:e instanceof RegExp?t=>(e.lastIndex=0,e.exec(t||\"\")):t=>e===t?t:null})}function a(e,t){return(Array.isArray(e)?e:[e]).filter(Boolean).map(e=>t&&\"string\"==typeof e&&!e.startsWith(t)?`${t}${e}`:e)}e.exports=i}).call(this,s(9).setImmediate)},function(e,t){var s;s=function(){return this}();try{s=s||new Function(\"return this\")()}catch(e){\"object\"==typeof window&&(s=window)}e.exports=s},function(e,t,s){s(4)},function(e,t,s){const r=s(5),i=s(1),{compose:n,optional:a,lazy:o,safePassThru:h}=i;e.exports=class extends i{constructor(e=[],t){super(),this.options={sessionName:\"session\",...t},this.scenes=new Map,e.forEach(e=>this.register(e))}register(...e){return e.forEach(e=>{if(!e||!e.id||\"function\"!=typeof e.middleware)throw new Error(\"telegraf: Unsupported scene\");this.scenes.set(e.id,e)}),this}middleware(){const e=n([(e,t)=>(e.scene=new r(e,this.scenes,this.options),t()),super.middleware(),o(e=>e.scene.current||h())]);return a(e=>e[this.options.sessionName],e)}static enter(...e){return t=>t.scene.enter(...e)}static reenter(...e){return t=>t.scene.reenter(...e)}static leave(...e){return t=>t.scene.leave(...e)}}},function(e,t,s){const r=s(6)(\"telegraf:scenes:context\"),{safePassThru:i}=s(1),n=()=>Promise.resolve(),a=()=>Math.floor(Date.now()/1e3);e.exports=class{constructor(e,t,s){this.ctx=e,this.scenes=t,this.options=s}get session(){const e=this.options.sessionName;let t=this.ctx[e].__scenes||{};return t.expires<a()&&(t={}),this.ctx[e].__scenes=t,t}get state(){return this.session.state=this.session.state||{},this.session.state}set state(e){this.session.state={...e}}get current(){const e=this.session.current||this.options.default;return e&&this.scenes.has(e)?this.scenes.get(e):null}reset(){const e=this.options.sessionName;delete this.ctx[e].__scenes}enter(e,t,s){if(!e||!this.scenes.has(e))throw new Error(`Can't find scene: ${e}`);return(s?n():this.leave()).then(()=>{r(\"Enter scene\",e,t,s),this.session.current=e,this.state=t;const i=this.current.ttl||this.options.ttl;return i&&(this.session.expires=a()+i),s?Promise.resolve():(\"function\"==typeof this.current.enterMiddleware?this.current.enterMiddleware():this.current.middleware())(this.ctx,n)})}reenter(){return this.enter(this.session.current,this.state)}leave(){return r(\"Leave scene\"),(this.current&&this.current.leaveMiddleware?this.current.leaveMiddleware():i())(this.ctx,n).then(()=>this.reset())}}},function(e,t,s){(function(r){t.formatArgs=function(t){if(t[0]=(this.useColors?\"%c\":\"\")+this.namespace+(this.useColors?\" %c\":\" \")+t[0]+(this.useColors?\"%c \":\" \")+\"+\"+e.exports.humanize(this.diff),!this.useColors)return;const s=\"color: \"+this.color;t.splice(1,0,s,\"color: inherit\");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{\"%%\"!==e&&(r++,\"%c\"===e&&(i=r))}),t.splice(i,0,s)},t.save=function(e){try{e?t.storage.setItem(\"debug\",e):t.storage.removeItem(\"debug\")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem(\"debug\")}catch(e){}!e&&void 0!==r&&\"env\"in r&&(e=r.env.DEBUG);return e},t.useColors=function(){if(\"undefined\"!=typeof window&&window.process&&(\"renderer\"===window.process.type||window.process.__nwjs))return!0;if(\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/))return!1;return\"undefined\"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||\"undefined\"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)&&parseInt(RegExp.$1,10)>=31||\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn(\"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.\"))}})(),t.colors=[\"#0000CC\",\"#0000FF\",\"#0033CC\",\"#0033FF\",\"#0066CC\",\"#0066FF\",\"#0099CC\",\"#0099FF\",\"#00CC00\",\"#00CC33\",\"#00CC66\",\"#00CC99\",\"#00CCCC\",\"#00CCFF\",\"#3300CC\",\"#3300FF\",\"#3333CC\",\"#3333FF\",\"#3366CC\",\"#3366FF\",\"#3399CC\",\"#3399FF\",\"#33CC00\",\"#33CC33\",\"#33CC66\",\"#33CC99\",\"#33CCCC\",\"#33CCFF\",\"#6600CC\",\"#6600FF\",\"#6633CC\",\"#6633FF\",\"#66CC00\",\"#66CC33\",\"#9900CC\",\"#9900FF\",\"#9933CC\",\"#9933FF\",\"#99CC00\",\"#99CC33\",\"#CC0000\",\"#CC0033\",\"#CC0066\",\"#CC0099\",\"#CC00CC\",\"#CC00FF\",\"#CC3300\",\"#CC3333\",\"#CC3366\",\"#CC3399\",\"#CC33CC\",\"#CC33FF\",\"#CC6600\",\"#CC6633\",\"#CC9900\",\"#CC9933\",\"#CCCC00\",\"#CCCC33\",\"#FF0000\",\"#FF0033\",\"#FF0066\",\"#FF0099\",\"#FF00CC\",\"#FF00FF\",\"#FF3300\",\"#FF3333\",\"#FF3366\",\"#FF3399\",\"#FF33CC\",\"#FF33FF\",\"#FF6600\",\"#FF6633\",\"#FF9900\",\"#FF9933\",\"#FFCC00\",\"#FFCC33\"],t.log=console.debug||console.log||(()=>{}),e.exports=s(7)(t);const{formatters:i}=e.exports;i.j=function(e){try{return JSON.stringify(e)}catch(e){return\"[UnexpectedJSONParseError]: \"+e.message}}}).call(this,s(0))},function(e,t,s){e.exports=function(e){function t(e){let s,i=null;function n(...e){if(!n.enabled)return;const r=n,i=Number(new Date),a=i-(s||i);r.diff=a,r.prev=s,r.curr=i,s=i,e[0]=t.coerce(e[0]),\"string\"!=typeof e[0]&&e.unshift(\"%O\");let o=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(s,i)=>{if(\"%%\"===s)return\"%\";o++;const n=t.formatters[i];if(\"function\"==typeof n){const t=e[o];s=n.call(r,t),e.splice(o,1),o--}return s}),t.formatArgs.call(r,e),(r.log||t.log).apply(r,e)}return n.namespace=e,n.useColors=t.useColors(),n.color=t.selectColor(e),n.extend=r,n.destroy=t.destroy,Object.defineProperty(n,\"enabled\",{enumerable:!0,configurable:!1,get:()=>null===i?t.enabled(e):i,set:e=>{i=e}}),\"function\"==typeof t.init&&t.init(n),n}function r(e,s){const r=t(this.namespace+(void 0===s?\":\":s)+e);return r.log=this.log,r}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\\.\\*\\?$/,\"*\")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map(e=>\"-\"+e)].join(\",\");return t.enable(\"\"),e},t.enable=function(e){let s;t.save(e),t.names=[],t.skips=[];const r=(\"string\"==typeof e?e:\"\").split(/[\\s,]+/),i=r.length;for(s=0;s<i;s++)r[s]&&(\"-\"===(e=r[s].replace(/\\*/g,\".*?\"))[0]?t.skips.push(new RegExp(\"^\"+e.substr(1)+\"$\")):t.names.push(new RegExp(\"^\"+e+\"$\")))},t.enabled=function(e){if(\"*\"===e[e.length-1])return!0;let s,r;for(s=0,r=t.skips.length;s<r;s++)if(t.skips[s].test(e))return!1;for(s=0,r=t.names.length;s<r;s++)if(t.names[s].test(e))return!0;return!1},t.humanize=s(8),t.destroy=function(){console.warn(\"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.\")},Object.keys(e).forEach(s=>{t[s]=e[s]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let s=0;for(let t=0;t<e.length;t++)s=(s<<5)-s+e.charCodeAt(t),s|=0;return t.colors[Math.abs(s)%t.colors.length]},t.enable(t.load()),t}},function(e,t){var s=1e3,r=60*s,i=60*r,n=24*i,a=7*n,o=365.25*n;function h(e,t,s,r){var i=t>=1.5*s;return Math.round(e/s)+\" \"+r+(i?\"s\":\"\")}e.exports=function(e,t){t=t||{};var c=typeof e;if(\"string\"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var h=parseFloat(t[1]);switch((t[2]||\"ms\").toLowerCase()){case\"years\":case\"year\":case\"yrs\":case\"yr\":case\"y\":return h*o;case\"weeks\":case\"week\":case\"w\":return h*a;case\"days\":case\"day\":case\"d\":return h*n;case\"hours\":case\"hour\":case\"hrs\":case\"hr\":case\"h\":return h*i;case\"minutes\":case\"minute\":case\"mins\":case\"min\":case\"m\":return h*r;case\"seconds\":case\"second\":case\"secs\":case\"sec\":case\"s\":return h*s;case\"milliseconds\":case\"millisecond\":case\"msecs\":case\"msec\":case\"ms\":return h;default:return}}(e);if(\"number\"===c&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=n)return h(e,t,n,\"day\");if(t>=i)return h(e,t,i,\"hour\");if(t>=r)return h(e,t,r,\"minute\");if(t>=s)return h(e,t,s,\"second\");return e+\" ms\"}(e):function(e){var t=Math.abs(e);if(t>=n)return Math.round(e/n)+\"d\";if(t>=i)return Math.round(e/i)+\"h\";if(t>=r)return Math.round(e/r)+\"m\";if(t>=s)return Math.round(e/s)+\"s\";return e+\"ms\"}(e);throw new Error(\"val is not a non-empty string or a valid number. val=\"+JSON.stringify(e))}},function(e,t,s){(function(e){var r=void 0!==e&&e||\"undefined\"!=typeof self&&self||window,i=Function.prototype.apply;function n(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new n(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new n(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},s(10),t.setImmediate=\"undefined\"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate=\"undefined\"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,s(2))},function(e,t,s){(function(e,t){!function(e,s){\"use strict\";if(!e.setImmediate){var r,i,n,a,o,h=1,c={},u=!1,l=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,\"[object process]\"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){p(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,s=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage(\"\",\"*\"),e.onmessage=s,t}}()?e.MessageChannel?((n=new MessageChannel).port1.onmessage=function(e){p(e.data)},r=function(e){n.port2.postMessage(e)}):l&&\"onreadystatechange\"in l.createElement(\"script\")?(i=l.documentElement,r=function(e){var t=l.createElement(\"script\");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(p,0,e)}:(a=\"setImmediate$\"+Math.random()+\"$\",o=function(t){t.source===e&&\"string\"==typeof t.data&&0===t.data.indexOf(a)&&p(+t.data.slice(a.length))},e.addEventListener?e.addEventListener(\"message\",o,!1):e.attachEvent(\"onmessage\",o),r=function(t){e.postMessage(a+t,\"*\")}),d.setImmediate=function(e){\"function\"!=typeof e&&(e=new Function(\"\"+e));for(var t=new Array(arguments.length-1),s=0;s<t.length;s++)t[s]=arguments[s+1];var i={callback:e,args:t};return c[h]=i,r(h),h++},d.clearImmediate=m}function m(e){delete c[e]}function p(e){if(u)setTimeout(p,0,e);else{var t=c[e];if(t){u=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(s,r)}}(t)}finally{m(e),u=!1}}}}}(\"undefined\"==typeof self?void 0===e?this:e:self)}).call(this,s(2),s(0))},function(e,t){const s=[\"callback_query\",\"channel_post\",\"chosen_inline_result\",\"edited_channel_post\",\"edited_message\",\"inline_query\",\"shipping_query\",\"pre_checkout_query\",\"message\",\"poll\",\"poll_answer\"],r=[\"voice\",\"video_note\",\"video\",\"animation\",\"venue\",\"text\",\"supergroup_chat_created\",\"successful_payment\",\"sticker\",\"pinned_message\",\"photo\",\"new_chat_title\",\"new_chat_photo\",\"new_chat_members\",\"migrate_to_chat_id\",\"migrate_from_chat_id\",\"location\",\"left_chat_member\",\"invoice\",\"group_chat_created\",\"game\",\"dice\",\"document\",\"delete_chat_photo\",\"contact\",\"channel_chat_created\",\"audio\",\"connected_website\",\"passport_data\",\"poll\",\"forward_date\"],i={forward_date:\"forward\"};class n{constructor(e,t,a){this.tg=t,this.update=e,this.options=a,this.updateType=s.find(e=>e in this.update),\"message\"===this.updateType||this.options.channelMode&&\"channel_post\"===this.updateType?this.updateSubTypes=r.filter(e=>e in this.update[this.updateType]).map(e=>i[e]||e):this.updateSubTypes=[],Object.getOwnPropertyNames(n.prototype).filter(e=>\"constructor\"!==e&&\"function\"==typeof this[e]).forEach(e=>this[e]=this[e].bind(this))}get me(){return this.options&&this.options.username}get telegram(){return this.tg}get message(){return this.update.message}get editedMessage(){return this.update.edited_message}get inlineQuery(){return this.update.inline_query}get shippingQuery(){return this.update.shipping_query}get preCheckoutQuery(){return this.update.pre_checkout_query}get chosenInlineResult(){return this.update.chosen_inline_result}get channelPost(){return this.update.channel_post}get editedChannelPost(){return this.update.edited_channel_post}get callbackQuery(){return this.update.callback_query}get poll(){return this.update.poll}get pollAnswer(){return this.update.poll_answer}get chat(){return this.message&&this.message.chat||this.editedMessage&&this.editedMessage.chat||this.callbackQuery&&this.callbackQuery.message&&this.callbackQuery.message.chat||this.channelPost&&this.channelPost.chat||this.editedChannelPost&&this.editedChannelPost.chat}get from(){return this.message&&this.message.from||this.editedMessage&&this.editedMessage.from||this.callbackQuery&&this.callbackQuery.from||this.inlineQuery&&this.inlineQuery.from||this.channelPost&&this.channelPost.from||this.editedChannelPost&&this.editedChannelPost.from||this.shippingQuery&&this.shippingQuery.from||this.preCheckoutQuery&&this.preCheckoutQuery.from||this.chosenInlineResult&&this.chosenInlineResult.from}get inlineMessageId(){return this.callbackQuery&&this.callbackQuery.inline_message_id||this.chosenInlineResult&&this.chosenInlineResult.inline_message_id}get passportData(){return this.message&&this.message.passport_data}get state(){return this.contextState||(this.contextState={}),this.contextState}set state(e){this.contextState={...e}}get webhookReply(){return this.tg.webhookReply}set webhookReply(e){this.tg.webhookReply=e}assert(e,t){if(!e)throw new Error(`Telegraf: \"${t}\" isn't available for \"${this.updateType}::${this.updateSubTypes}\"`)}answerInlineQuery(...e){return this.assert(this.inlineQuery,\"answerInlineQuery\"),this.telegram.answerInlineQuery(this.inlineQuery.id,...e)}answerCbQuery(...e){return this.assert(this.callbackQuery,\"answerCbQuery\"),this.telegram.answerCbQuery(this.callbackQuery.id,...e)}answerGameQuery(...e){return this.assert(this.callbackQuery,\"answerGameQuery\"),this.telegram.answerGameQuery(this.callbackQuery.id,...e)}answerShippingQuery(...e){return this.assert(this.shippingQuery,\"answerShippingQuery\"),this.telegram.answerShippingQuery(this.shippingQuery.id,...e)}answerPreCheckoutQuery(...e){return this.assert(this.preCheckoutQuery,\"answerPreCheckoutQuery\"),this.telegram.answerPreCheckoutQuery(this.preCheckoutQuery.id,...e)}editMessageText(e,t){return this.assert(this.callbackQuery||this.inlineMessageId,\"editMessageText\"),this.inlineMessageId?this.telegram.editMessageText(void 0,void 0,this.inlineMessageId,e,t):this.telegram.editMessageText(this.chat.id,this.callbackQuery.message.message_id,void 0,e,t)}editMessageCaption(e,t){return this.assert(this.callbackQuery||this.inlineMessageId,\"editMessageCaption\"),this.inlineMessageId?this.telegram.editMessageCaption(void 0,void 0,this.inlineMessageId,e,t):this.telegram.editMessageCaption(this.chat.id,this.callbackQuery.message.message_id,void 0,e,t)}editMessageMedia(e,t){return this.assert(this.callbackQuery||this.inlineMessageId,\"editMessageMedia\"),this.inlineMessageId?this.telegram.editMessageMedia(void 0,void 0,this.inlineMessageId,e,t):this.telegram.editMessageMedia(this.chat.id,this.callbackQuery.message.message_id,void 0,e,t)}editMessageReplyMarkup(e){return this.assert(this.callbackQuery||this.inlineMessageId,\"editMessageReplyMarkup\"),this.inlineMessageId?this.telegram.editMessageReplyMarkup(void 0,void 0,this.inlineMessageId,e):this.telegram.editMessageReplyMarkup(this.chat.id,this.callbackQuery.message.message_id,void 0,e)}editMessageLiveLocation(e,t,s){return this.assert(this.callbackQuery||this.inlineMessageId,\"editMessageLiveLocation\"),this.inlineMessageId?this.telegram.editMessageLiveLocation(e,t,void 0,void 0,this.inlineMessageId,s):this.telegram.editMessageLiveLocation(e,t,this.chat.id,this.callbackQuery.message.message_id,void 0,s)}stopMessageLiveLocation(e){return this.assert(this.callbackQuery||this.inlineMessageId,\"stopMessageLiveLocation\"),this.inlineMessageId?this.telegram.stopMessageLiveLocation(void 0,void 0,this.inlineMessageId,e):this.telegram.stopMessageLiveLocation(this.chat.id,this.callbackQuery.message.message_id,void 0,e)}reply(...e){return this.assert(this.chat,\"reply\"),this.telegram.sendMessage(this.chat.id,...e)}getChat(...e){return this.assert(this.chat,\"getChat\"),this.telegram.getChat(this.chat.id,...e)}exportChatInviteLink(...e){return this.assert(this.chat,\"exportChatInviteLink\"),this.telegram.exportChatInviteLink(this.chat.id,...e)}kickChatMember(...e){return this.assert(this.chat,\"kickChatMember\"),this.telegram.kickChatMember(this.chat.id,...e)}unbanChatMember(...e){return this.assert(this.chat,\"unbanChatMember\"),this.telegram.unbanChatMember(this.chat.id,...e)}restrictChatMember(...e){return this.assert(this.chat,\"restrictChatMember\"),this.telegram.restrictChatMember(this.chat.id,...e)}promoteChatMember(...e){return this.assert(this.chat,\"promoteChatMember\"),this.telegram.promoteChatMember(this.chat.id,...e)}setChatAdministratorCustomTitle(...e){return this.assert(this.chat,\"setChatAdministratorCustomTitle\"),this.telegram.setChatAdministratorCustomTitle(this.chat.id,...e)}setChatPhoto(...e){return this.assert(this.chat,\"setChatPhoto\"),this.telegram.setChatPhoto(this.chat.id,...e)}deleteChatPhoto(...e){return this.assert(this.chat,\"deleteChatPhoto\"),this.telegram.deleteChatPhoto(this.chat.id,...e)}setChatTitle(...e){return this.assert(this.chat,\"setChatTitle\"),this.telegram.setChatTitle(this.chat.id,...e)}setChatDescription(...e){return this.assert(this.chat,\"setChatDescription\"),this.telegram.setChatDescription(this.chat.id,...e)}pinChatMessage(...e){return this.assert(this.chat,\"pinChatMessage\"),this.telegram.pinChatMessage(this.chat.id,...e)}unpinChatMessage(...e){return this.assert(this.chat,\"unpinChatMessage\"),this.telegram.unpinChatMessage(this.chat.id,...e)}leaveChat(...e){return this.assert(this.chat,\"leaveChat\"),this.telegram.leaveChat(this.chat.id,...e)}setChatPermissions(...e){return this.assert(this.chat,\"setChatPermissions\"),this.telegram.setChatPermissions(this.chat.id,...e)}getChatAdministrators(...e){return this.assert(this.chat,\"getChatAdministrators\"),this.telegram.getChatAdministrators(this.chat.id,...e)}getChatMember(...e){return this.assert(this.chat,\"getChatMember\"),this.telegram.getChatMember(this.chat.id,...e)}getChatMembersCount(...e){return this.assert(this.chat,\"getChatMembersCount\"),this.telegram.getChatMembersCount(this.chat.id,...e)}setPassportDataErrors(e){return this.assert(this.chat,\"setPassportDataErrors\"),this.telegram.setPassportDataErrors(this.from.id,e)}replyWithPhoto(...e){return this.assert(this.chat,\"replyWithPhoto\"),this.telegram.sendPhoto(this.chat.id,...e)}replyWithMediaGroup(...e){return this.assert(this.chat,\"replyWithMediaGroup\"),this.telegram.sendMediaGroup(this.chat.id,...e)}replyWithAudio(...e){return this.assert(this.chat,\"replyWithAudio\"),this.telegram.sendAudio(this.chat.id,...e)}replyWithDice(...e){return this.assert(this.chat,\"replyWithDice\"),this.telegram.sendDice(this.chat.id,...e)}replyWithDocument(...e){return this.assert(this.chat,\"replyWithDocument\"),this.telegram.sendDocument(this.chat.id,...e)}replyWithSticker(...e){return this.assert(this.chat,\"replyWithSticker\"),this.telegram.sendSticker(this.chat.id,...e)}replyWithVideo(...e){return this.assert(this.chat,\"replyWithVideo\"),this.telegram.sendVideo(this.chat.id,...e)}replyWithAnimation(...e){return this.assert(this.chat,\"replyWithAnimation\"),this.telegram.sendAnimation(this.chat.id,...e)}replyWithVideoNote(...e){return this.assert(this.chat,\"replyWithVideoNote\"),this.telegram.sendVideoNote(this.chat.id,...e)}replyWithInvoice(...e){return this.assert(this.chat,\"replyWithInvoice\"),this.telegram.sendInvoice(this.chat.id,...e)}replyWithGame(...e){return this.assert(this.chat,\"replyWithGame\"),this.telegram.sendGame(this.chat.id,...e)}replyWithVoice(...e){return this.assert(this.chat,\"replyWithVoice\"),this.telegram.sendVoice(this.chat.id,...e)}replyWithPoll(...e){return this.assert(this.chat,\"replyWithPoll\"),this.telegram.sendPoll(this.chat.id,...e)}replyWithQuiz(...e){return this.assert(this.chat,\"replyWithQuiz\"),this.telegram.sendQuiz(this.chat.id,...e)}stopPoll(...e){return this.assert(this.chat,\"stopPoll\"),this.telegram.stopPoll(this.chat.id,...e)}replyWithChatAction(...e){return this.assert(this.chat,\"replyWithChatAction\"),this.telegram.sendChatAction(this.chat.id,...e)}replyWithLocation(...e){return this.assert(this.chat,\"replyWithLocation\"),this.telegram.sendLocation(this.chat.id,...e)}replyWithVenue(...e){return this.assert(this.chat,\"replyWithVenue\"),this.telegram.sendVenue(this.chat.id,...e)}replyWithContact(...e){return this.assert(this.from,\"replyWithContact\"),this.telegram.sendContact(this.chat.id,...e)}getStickerSet(e){return this.telegram.getStickerSet(e)}setChatStickerSet(e){return this.assert(this.chat,\"setChatStickerSet\"),this.telegram.setChatStickerSet(this.chat.id,e)}deleteChatStickerSet(){return this.assert(this.chat,\"deleteChatStickerSet\"),this.telegram.deleteChatStickerSet(this.chat.id)}setStickerPositionInSet(e,t){return this.telegram.setStickerPositionInSet(e,t)}setStickerSetThumb(...e){return this.telegram.setStickerSetThumb(...e)}deleteStickerFromSet(e){return this.telegram.deleteStickerFromSet(e)}uploadStickerFile(...e){return this.assert(this.from,\"uploadStickerFile\"),this.telegram.uploadStickerFile(this.from.id,...e)}createNewStickerSet(...e){return this.assert(this.from,\"createNewStickerSet\"),this.telegram.createNewStickerSet(this.from.id,...e)}addStickerToSet(...e){return this.assert(this.from,\"addStickerToSet\"),this.telegram.addStickerToSet(this.from.id,...e)}getMyCommands(){return this.telegram.getMyCommands()}setMyCommands(...e){return this.telegram.setMyCommands(...e)}replyWithMarkdown(e,t){return this.reply(e,{parse_mode:\"Markdown\",...t})}replyWithMarkdownV2(e,t){return this.reply(e,{parse_mode:\"MarkdownV2\",...t})}replyWithHTML(e,t){return this.reply(e,{parse_mode:\"HTML\",...t})}deleteMessage(e){if(this.assert(this.chat,\"deleteMessage\"),void 0!==e)return this.telegram.deleteMessage(this.chat.id,e);const t=this.message||this.editedMessage||this.channelPost||this.editedChannelPost||this.callbackQuery&&this.callbackQuery.message;return this.assert(t,\"deleteMessage\"),this.telegram.deleteMessage(this.chat.id,t.message_id)}forwardMessage(e,t){this.assert(this.chat,\"forwardMessage\");const s=this.message||this.editedMessage||this.channelPost||this.editedChannelPost||this.callbackQuery&&this.callbackQuery.message;return this.assert(s,\"forwardMessage\"),this.telegram.forwardMessage(e,this.chat.id,s.message_id,t)}}e.exports=n}]);","extractedComments":[]}